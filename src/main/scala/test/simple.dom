interface Printable = [
    methods = [string: Unit => String]
]

interface InlineGenerate = [
    methods = [render_inline: Unit => String]
]
interface FullGenerate = [
    methods = [render_full: Unit => Template]
]
interface Generate extends InlineGenerate, FullGenerate = []

interface Linkable = [
    methods = [link: Unit => String]
]

interface Page extends Generate, Linkable = [
    methods = [title: Unit => String],
    let render_inline() = "<a href=" + link + ">" + self.title + "</a>",
    let link() = self.title() + ".html"
]
interface TemplatedPage extends Page = [
    methods = [template: Unit => Template],
    let render_full() = self.template().generate(self)
]

class Date implements Printable = [
    data = [day: Int, month: Int, year: Int],
    let string() = self.month.string() + "/" + self.day.string() + "/" + self.year.string()
]

class Notes implements TemplatedPage = [
    data = [
        date: Date,
        course: String,
        raw_notes: String
    ],
    let title() = self.course + self.date.month.string() + self.date.day.string() + self.date.year.string(),
    let template() = stl.read_template("src/main/scala/test/simple.templ")
]

class PLNotes extends Notes = [let course = "252r"]
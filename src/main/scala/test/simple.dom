interface Printable = [
    methods = [string: Unit => String]
]

interface InlineGenerate = [
    methods = [render_inline: Unit => String]
]
interface FullGenerate = [
    methods = [render_full: Unit => Template]
]
interface Generate extends InlineGenerate, FullGenerate = []

interface Linkable = [
    methods = [path: Unit => String]
]

interface Page extends Generate, Linkable = [
    methods = [title: Unit => String],
    let render_inline() = "<a href=" + link + ">" + self.title + "</a>"
]

interface TemplatedPage extends Page = [
    methods = [template: Unit => Template],
    let render_full() = self.template().generate(self)
]

class Date implements Printable = [
    data = [day: Int, month: Int, year: Int],
    let string() = self.month.string() + "-" + self.day.string() + "-" + self.year.string()
]

class Notes implements TemplatedPage = [
    data = [
        date: Date,
        course: String,
        raw_notes: String
    ],
    let title() = self.date.string(),
    let path() = self.course + "/" + self.date.string(),
    let template() = stl.read_template("src/main/scala/test/notes.templ")
]

class PLNotes extends Notes = [
    data = [summary: String],
    let course = "252r",
    let template() = stl.read_template("src/main/scala/test/plnotes.templ")
]